;1	08.12.2016 13:25:54	jlawrie2	
X0 26099b8 0 2619048 0 0 0 0

X0 2619048 26099b8 4987eb6c 0 0 0 0
-- All Test Cases --
X7 4987eb6c 2619048 0 7635c1b2 0 0 2
OUTPUT ME Charge Rate
'OUTPUT ME Charge Rate'(0)
0.45
INPUT InvestProduct ProductCode
Fund1
Input TransEffDate
02/01/2007
INPUT InvestProduct MortalityExpenseBand
A0
INPUT Calling System
I1
INPUT Policy ProductCode
SPIA1PA
INPUT Calling Program
VPMSTEST
X10 7635c1b2 2619048 0 1dff006 0 0 2
OUTPUT ME Charge Per Unit
'OUTPUT ME Charge Per Unit'(0)
0.005287
INPUT InvestProduct AssetClass
2
INPUT InvestProduct ProductCode
Fund1
Input TransEffDate
02/01/2007
INPUT InvestProduct MortalityExpenseBand
A1
INPUT InvestProduct UnitPriceAsOfDate
01/01/2007
INPUT InvestProduct UnitPrice
12.45
INPUT Calling System
I1
INPUT Policy ProductCode
SPIA1PA
INPUT Calling Program
VPMSTEST
X17 1dff006 2619048 0 36be0a0c 0 0 2
OUTPUT ME Net Invest Factor
'OUTPUT ME Net Invest Factor'(0)
1.04223268512309
INPUT InvestProduct AssetClass
2
INPUT InvestProduct UnitValueBuyRate
15.00
INPUT InvestProduct AnnualDividend
0.05
INPUT InvestProduct CapGainsUnitPrice
0
INPUT InvestProduct Fee Number of Fee
1
INPUT InvestProduct Fee FeeType
20
INPUT InvestProduct Fee FeePct
20
INPUT InvestProduct Fee FeeType[0;1]
20
INPUT InvestProduct PrevUnitValueBuyRate
14.30
INPUT InvestProduct ProductCode
Fund1
Input TransEffDate
02/01/2007
INPUT InvestProduct MortalityExpenseBand
A1
INPUT InvestProduct UnitPriceAsOfDate
01/01/2007
INPUT Calling System
I1
INPUT Policy ProductCode
SPIA1PA
INPUT Calling Program
VPMSTEST
X17 36be0a0c 2619048 0 0 0 0 2
OUTPUT ME Unit Value
'OUTPUT ME Unit Value'(0)
12.975797
INPUT InvestProduct AssetClass
2
INPUT InvestProduct UnitPrice
12.45
INPUT InvestProduct UnitValueBuyRate
15.00
INPUT InvestProduct AnnualDividend
0.05
INPUT InvestProduct CapGainsUnitPrice
0
INPUT InvestProduct Fee Number of Fee
1
INPUT InvestProduct Fee FeeType
20
INPUT InvestProduct Fee FeePct
20
INPUT InvestProduct PrevUnitValueBuyRate
14.30
INPUT InvestProduct ProductCode
Fund1
Input TransEffDate
02/01/2007
INPUT InvestProduct MortalityExpenseBand
A1
INPUT InvestProduct UnitPriceAsOfDate
01/01/2007
INPUT Calling System
I1
INPUT Policy ProductCode
SPIA1PA
INPUT Calling Program
VPMSTEST
O0 2609874 0 0 0 0 0 0

E0 26098e0 0 0 0 0 0 0

L0 260994c 0 0 0 0 0 0

B0 2609afc 0 0 0 0 0 0

P3 2609a24 0 2639678 0 0 0 2

--description
Calculations determine mortality and expense (M & E) charges based on the election of various optional benefits. Dynamic calculation of unit values is supported based on the M & E charge characteristics of a product/sub-account/contract.çä çäReturns the charge rate, charge per unit, charge amount, net investment factor, and unit value.çä çäRELEASE LOG:çäRELEASE 1101 - PAC019 Rate Access via Inputs
LICENSENAME
"CSC US internal use only - Workbench"
COMPILERVERSION
"4.2.1"
P13 2639678 2609a24 2639e80 0 0 0 2
Annuity
IncType
mandatory
IncRule

IncValue

OUTPUT Comment
" Model:   Annuity mortality and expense model.  Includes properties and functions to return the monthly mortality andçä               expense charges.çä Author:  John Heumannçä Date:     11/21/2006 çä"
OUTPUT Runtime Version
"1.0.00"
OUTPUT Runtime Date
"12/12/2016"
OUTPUT Source Version Computer
"VPMS_Server"
OUTPUT Source Version File
"AnnuityUnbundledMECharges.pms"
OUTPUT Source Version Number
'GEN VersionInfo'
OUTPUT Source Version Date
"12/12/2016"
OUTPUT Source Version Author
"CSC"
OUTPUT Source Version Comment
"PA1603 Delivery"
OUTPUT Audit History Block
"12/12/2016 PA1603 Delivery"
P8 2639e80 2639678 0 0 0 0 2
Unbundled Mortality and Expense Charges
IncType
mandatory
IncRule

IncValue

OUTPUT ME Charge Rate(investIndex)
'MORTandEXP Charge Rate'(investIndex)
OUTPUT ME Charge Per Unit(investIndex)
'MORTandEXP Charge Per Unit'(investIndex)
--OUTPUT ME Charge Amount(investIndex)
'MORTandEXP Charge Amount'(investIndex)
OUTPUT ME Net Invest Factor(investIndex)
'MORTandEXP Net Invest Factor'(investIndex)
OUTPUT ME Unit Value(investIndex)
'MORTandEXP Unit Value'(investIndex)
F0 2609a90 0 420b0fd6 0 0 0 0

F1 420b0fd6 2609a90 25b3140 0 0 0 2
:MORTandEXP
Funktion

F1 25b3140 420b0fd6 25b3420 25b3e28 0 0 2
-- M&E Charge Functions --
Funktion

F1 25b3420 25b3140 0 25b3568 0 0 2
MORTandEXP Charge Rate(investIndex)
Funktion
IF ('PI Use Attributes'("ME Charge Rate") ; çä  'STD ME Charge Rate' ; çä   //INPUTçäRate('InvestProduct ProductCode'(investIndex); //Rate Tableçä"UMEChgRate";TransEffDate;'Vector ME Charge Rate Vector'(investIndex))çä)
F1 25b3568 25b3140 0 25b3650 0 0 2
MORTandEXP Charge Per Unit(investIndex)
Funktion
IF ( /*valid - no error*/ 'MORTandEXP Valid MORTandEXP Charge Fund Error Check'(investIndex) ; çä   //true - retrieve chargeçä'GEN Round'('MORTandEXP Charge Rate'(investIndex) * ('MORTandEXP Valuation Days'(investIndex) / 365) * 0.01 * 'InvestProduct UnitPrice'(investIndex);6) ; çä   // else 0çä0çä)
F1 25b3650 25b3140 0 25b3738 0 0 2
--MORTandEXP Charge Amount(fundIndex)
Funktion
IF (/*valid - no error*/'MORTandEXP Valid MORTandEXP Charge Fund Error Check'(fundIndex);çäâ//true - calculate charge amountçäâ'MORTandEXP Charge Per Unit'(fundIndex) çäâ* çäâ'Policy SubAccount CurrNumberOfUnits'(fundIndex);çäâ// else 0çäâ0çä)
F1 25b3738 25b3140 25b38c8 25b3c30 0 0 2
MORTandEXP Net Invest Factor(fundIndex)
Funktion
IF ( /*valid - no error*/ 'MORTandEXP Valid MORTandEXP Charge Fund Error Check'(fundIndex) ; çä   //true - calculate factorçä'MORTandEXP Gross Return On Investment'(fundIndex) - 'MORTandEXP Valuation Period Charge Rate'(fundIndex) ; çä   // else 0çä0çä)
F1 25b38c8 25b3738 25b3a80 25b3b38 0 0 2
MORTandEXP Gross Return On Investment(investIndex)
Funktion
('InvestProduct UnitValueBuyRate'(investIndex) + 'InvestProduct AnnualDividend'(investIndex) + 'InvestProduct CapGainsUnitPrice'(investIndex) - 'MORTandEXP Tax Reserve Per Share'(investIndex)) / 'InvestProduct PrevUnitValueBuyRate'(investIndex)
F1 25b3a80 25b38c8 55a41150 0 0 0 2
MORTandEXP Tax Reserve Per Share(investIndex)
Funktion
'MORTandEXP TaxRate'(investIndex) * 0.01 * ('InvestProduct UnitValueBuyRate'(investIndex) + 'InvestProduct CapGainsUnitPrice'(investIndex) - 'InvestProduct PrevUnitValueBuyRate'(investIndex))
F1 55a41150 25b3a80 0 0 0 0 2
MORTandEXP TaxRate(investIndex)
Funktion
SUMX(feeIndex;0;'InvestProduct Fee Number of Fee'(investIndex) - 1;IF ('InvestProduct Fee FeeType'(investIndex;#feeIndex) = 20 ; çä  'InvestProduct Fee FeePct'(investIndex;#feeIndex) ; çä  0çä))
F1 25b3b38 25b3738 0 0 0 0 2
MORTandEXP Valuation Period Charge Rate(investIndex)
Funktion
'MORTandEXP Charge Rate'(investIndex) * ('MORTandEXP Valuation Days'(investIndex) / 365) * 0.01
F1 25b3c30 25b3140 0 0 0 0 2
MORTandEXP Unit Value(investIndex)
Funktion
IF ( /*valid - no error*/ 'MORTandEXP Valid MORTandEXP Charge Fund Error Check'(investIndex) ; çä   //true - calculate unit valueçä'GEN Round'('InvestProduct UnitPrice'(investIndex) * 'MORTandEXP Net Invest Factor'(investIndex);6) ; çä   // else 0çä0çä)
F1 25b3e28 420b0fd6 25b3f08 0 0 0 2
-- Miscellaneous Functions --
Funktion

F1 25b3f08 25b3e28 0 25b40e0 0 0 2
MORTandEXP Model Name
Funktion
"AnnuityUnbundledMECharges"
F1 25b40e0 25b3e28 0 25b4198 0 0 2
MORTandEXP Valid MORTandEXP Charge Fund Error Check(investIndex)
Funktion
IF ( /*equity asset class*/ NOT('AssetClass Is Equity'('InvestProduct AssetClass'(investIndex))) ; çä   //true - messageçä'Messages SystemMessage'("CA1024";'Message Language';v_('MORTandEXP Model Name';"'MORTandEXP Valid MORTandEXP Charge Fund Error Check'")) ; çä   // else - no errorçä1çä)
F1 25b4198 25b3e28 0 25b43d0 0 0 2
MORTandEXP Valuation Days(investIndex)
Funktion
DATEDAY(TransEffDate) - DATEDAY('InvestProduct UnitPriceAsOfDate'(investIndex))
F1 25b43d0 25b3e28 0 0 0 0 2
Vector ME Charge Rate Vector(investIndex)
Funktion
v_('GEN Vector Blank'; // Issue Ageçä'GEN Vector Blank'; // Durationçä'GEN Vector Blank'; // Genderçä'GEN Vector Blank'; // Underwriting Classâçä'GEN Vector Blank'; // Smokerçä'InvestProduct MortalityExpenseBand'(investIndex); // Band Table Identityçä'GEN Vector Blank'; // State codeçä'GEN Vector Blank'; // Tableçä'GEN Vector Blank'; // Ruleçä'GEN Vector Blank' // Death benefit optionçä)
A0 2609b68 0 0 0 0 0 0

T0 2609bd4 0 0 0 0 0 0

I0 2609c40 0 7e1cc5aa 0 0 0 0

I0 7e1cc5aa 2609c40 0 0 0 0 0
ACCESS.pms
-
O0
E0
L0
B0
P2
2639678
2639e80
F1
420b0fd6
A0
T0
!12
25b3420 -2 -2
Description:  Returns the M&E charge rate to be used in determining the M&E charge based on the M&E band for the contract.çä çäModification Log:çä8/24/2010 - PAC019 - Rate Access Var - BT - add new inputçä02/06/2009 CMC Removed check to see if product supports unbundled M&E calculations and updated rate call to subAccount Product code from policy productcodeçä10/31/2007 CSC Initial Calculation/Rule
25b3568 -2 -2
Description:  Returns the M&E charge per unit for the fund.çä çäModification Log:çä01/07/2009 DT pA1001 cleaned up functionçä10/31/2007 CSC Initial Calculation/Rule
25b3650 -2 -2
Description:  Returns the M&E charge amount for the fund.çä çäModification Log:çä10/31/2007 CSC Initial Calculation/Rule
25b3738 -2 -2
Description:  Returns the net investment factor for the fund over the valuation period.çä çäModification Log:çä01/07/2009 DT pA1001 cleaned up functionçä10/31/2007 CSC Initial Calculation/Rule
25b38c8 -2 -2
Description:  Returns the gross return on investment for the fund over the valuation period.çä çäModification Log:çä02/06/2009 CMC Update for new input namesçä10/31/2007 CSC Initial Calculation/Rule
25b3a80 -2 -2
Description:  Returns the tax reserve per share for the fund over the valuation period.çä çäModification Log:çä02/06/2009 CMC Update for new input namesçä10/31/2007 CSC Initial Calculation/Rule
55a41150 -2 -2
Description:  Returns the tax rate for the given fund.çä çäModification Log:çä02/18/2009 CMC Initial Function
25b3b38 -2 -2
Description:  Returns the M&E charge rate for the fund over the valuation period.çä çäModification Log:çä10/31/2007 CSC Initial Calculation/Rule
25b3c30 -2 -2
Description:  Returns the new unit value for the fund after the M&E cost has been applied.çä çäModification Log:çä10/31/2007 CSC Initial Calculation/Rule
25b40e0 -2 -2
Description:  Returns True (i.e. 1) if the particular fund is a fund applicable to unbundled M&E charges.  The product must be defined as having unbundled M&E charges and the fund must be an equity fund.  An appropriate error is generated if either the product doesn't include unbundled M&E charges or the fund is not an equity fund.çä çäModification Log:çä8/24/2010 - PAC019 - Rate Access Var - BT - remove unused codeçä02/06/2009 CMC Removed check to see if product supports unbundled M&E calculations.çä10/31/2007 CSC Initial Calculation/Rule
25b4198 -2 -2
Description:  Returns the number of days between the current valuation date and the date that the M&E charges were last applied.çä çäModification Log:çä10/31/2007 CSC Initial Calculation/Rule
25b43d0 -2 -2
Description:  Returns the vector that needs to be passed to the late referenced rate model for M&E charges.çä çäModification Log:çä10/31/2007 CSC Initial Calculation/Rule
;Offset=00000000
