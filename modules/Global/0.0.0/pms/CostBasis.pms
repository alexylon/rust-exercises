;1	08.12.2016 13:29:33	jlawrie2	
X0 de07a8 0 0 0 0 0 0

O0 de0694 0 0 0 0 0 0

E0 de06f0 0 0 0 0 0 0

L0 de074c 0 0 0 0 0 0

B0 de08bc 0 0 0 0 0 0

P1 de0804 0 4368e86d 0 0 0 2

--description
Support for Cost Basis and taxable gain adjustmentsçä çäRELEASE LOG:çäRELEASE 1301 - wmA-J Developmentçä
P13 4368e86d de0804 5a0d3b49 0 0 0 2
Cost Basis Calculations
IncType
mandatory
IncRule

IncValue

OUTPUT Comment
"Cost Basis"
OUTPUT Runtime Version
"1.0.0"
OUTPUT Runtime Date
"12/12/2016"
OUTPUT Source Version Computer
"VPMS_SERVER"
OUTPUT Source Version File
"CostBasis.pms"
OUTPUT Source Version Number
'GEN VersionInfo'
OUTPUT Source Version Date
"12/12/2016"
OUTPUT Source Version Author
"CSC"
OUTPUT Source Version Comment
"PA1603 Delivery"
OUTPUT Audit History Block
"12/12/2016 PA1603 Delivery"
P5 5a0d3b49 4368e86d 0 0 0 0 2
Cost Basis
IncType
mandatory
IncRule

IncValue

OUTPUT Cost Basis
'CBG CostBasis'
OUTPUT Cost Basis Adjustment
'CBG CostBasisAdj'
F0 de0860 0 6eae809f 0 0 0 0

F1 6eae809f de0860 29f17e9 0 0 0 2
:CBG
Funktion

F1 29f17e9 6eae809f 2d0a5c42 0 0 0 2
-- Cost Basis and Gain Adjustments --
Funktion

F1 2d0a5c42 29f17e9 72e769ed 616e8447 0 0 2
-- Cost Basis Calcs --
Funktion

F1 72e769ed 2d0a5c42 0 37ef05b9 0 0 2
CBG UnAdjustedCostBasis
Funktion
'Policy CostBasis'
F1 37ef05b9 2d0a5c42 0 1cdf70c1 0 0 2
--CBG RolloverCostBasis
Funktion
IF('Policy CostBasisKnown'çäâ&&çäâ'FinActivityType is External Rollover'('Policy FinancialActivity FinActivityType'(0));çäâ/*Transaction is a rollover from an external source and the cost basis is known*/çäââçäââ//True - Return the cost basisçäââ'Policy FinancialActivity CostBasis'(0);çäâçäââ//False - Return the error message belowçäââ"Error:UnknownCostBasisOrUnsupportedTransactionType")
F1 1cdf70c1 2d0a5c42 0 94cee45 0 0 2
CBG CostBasis
Funktion
 //IF('Exchange1035Ind';çä/*Transaction is 1035 exchange*///Trueçä//'TaxCompliance 1035CostBasis'//;çä//Falseçä'CBG UnAdjustedCostBasis' - 'CBG CostBasisAdj' //)ä
F1 94cee45 2d0a5c42 3288a8f3 0 0 0 2
CBG CostBasisAdj
Funktion
IF ('CBG BypassAdjInd' || 'TaxWithholding TaxDisburseType is Withdrawal for Rollover_IRS 1099 for 1035 Exchange'((0)) || 'CBG UnkownCostBasis' ; çä   /*Financial activity type has no impact on the cost basis or the cost basis is unknown*///True - Return 0çä 0 ; çä   //False çäCASE('CBG CostBasisAdjType';çä     /*Lookup the appropriate cost basis adjustment type to calculate*/ 1 : -'CBG CostBasisAdjType1';çä     //Premium paymentçä2 : 'CBG CostBasisAdjType2';çä     //Premium reversalçä3 : 'CBG CostBasisAdjType3';çä     //Disbursements (See B-27-3 for supported disbursements)çä4 : 'CBG CostBasisAdjType4';çä     //Excess interest creditçä5 : -'CBG CostBasisAdjType5';çä     //Excess interest for premium reduction on non-mec (results in cost basis increase)çä6 : 'CBG CostBasisAdjType6';çä     //Excess interest for purchase of pua on non-mecçä7 : 'CBG CostBasisAdjType7';çä     //Excess interest on mec contractçä8 : 'CBG CostBasisAdjType8';çä     //Cost basis initially unknown or entered in errorçä9 : -'CBG CostBasisAdjType9';çä     //Rollover from an external sourceçä10 : -'CBG CostBasisAdjType10';çä     :  //Loan on MEC (results in cost basis increase)çä"Error:UnsupportedCostBasisAdjType" /*Return error message*/ )çäçä)
F1 3288a8f3 94cee45 0 4c0e888a 0 0 2
CBG CostBasisAdjType1
Funktion
IF ('FinActivityType is Annuity Rider Payment'('Policy FinancialActivity FinActivityType'(0)) ; çä   //Annuity rider premium paymentçä0 ; çä  MAX('Policy FinancialActivity FinActivityGrossAmt'(0);0) //Return the net premium payment (less charges)çäçä)
F1 4c0e888a 94cee45 0 6750759c 0 0 2
CBG CostBasisAdjType2
Funktion
IF ('FinActivityType is Refund of Premium'('Policy FinancialActivity FinActivityType'(0)) ; çä   //Premium payment refundçäMAX('Policy FinancialActivity FinActivityGrossAmt'(0);0) ; çä   //Subtract the reversal amount çä"Error:NotPremiumPaymentReversal"çä)
F1 6750759c 94cee45 0 69f6cadf 0 0 2
CBG CostBasisAdjType3
Funktion
IF (NOT('Policy LifeUSA MECInd') ; çä   /*Policy is not an MEC*/ MIN('Policy FinancialActivity FinActivityGrossAmt'(0);'Policy CostBasis') ; çä   //Allocate distribution to basis first then gainçäIF ('Policy LifeUSA MECInd' ; çä     /*Policy is an MEC*/ (MAX('Policy FinancialActivity FinActivityGrossAmt'(0) - 'TWH TaxableGainUnadj';0)) ; çä     //Allocate distribution to gain first then basisçä"Error:MECStatusUnknown"çä  )çä)
F1 69f6cadf 94cee45 0 770db32a 0 0 2
CBG CostBasisAdjType4
Funktion
IF (NOT('Policy LifeUSA MECInd') ; çä   //Non-MECçäMAX('Policy FinancialActivity FinActivityGrossAmt'(0);0) ; çä   //Subtract the premium payment çä0çä)
F1 770db32a 94cee45 0 33e36233 0 0 2
CBG CostBasisAdjType5
Funktion
MAX('Txn Gross Premium Payment'(0) - 'Policy FinancialActivity FinActivityGrossAmt'(0);0) /*Return the excess of the Total premium payable over the excess interest credit amount used for premium reduction*/ 
F1 33e36233 94cee45 0 e9ffb0e 0 0 2
CBG CostBasisAdjType6
Funktion
0
F1 e9ffb0e 94cee45 0 3cf4716d 0 0 2
CBG CostBasisAdjType7
Funktion
IF ('Policy LifeUSA MECInd' ; çä   /*Policy is a MEC*///Trueçä MAX('Policy FinancialActivity FinActivityNetAmt'(0) - 'TWH TaxableGainUnadj';0) ; çä   //Tax free portion of distribution, distribution allocated to gain first then basisçä"Error:CostBasisAdjType7error"çä)
F1 3cf4716d 94cee45 0 168c1349 0 0 2
CBG CostBasisAdjType8
Funktion
'Policy FinancialActivity CostBasisAdjAmt'(0)
F1 168c1349 94cee45 0 5f0764a6 0 0 2
CBG CostBasisAdjType9
Funktion
IF ('Policy CostBasisKnown' && 'FinActivityType is External Rollover'('Policy FinancialActivity FinActivityType'(0)) ; çä   /*Cost basis is known and the transaction is a rollover from an external source*///True - Return the cost basis on the rollover contractçä 'Policy FinancialActivity CostBasis'(0) ; çä  IF ('Policy CostBasisKnown' && 'FinActivityType is External Rollover to Roth IRA'('Policy FinancialActivity FinActivityType'(0)) ; çä    'Policy FinancialActivity RothIRAConverIncAmt'(0) ; çä    "Error:UnknownCostBasisOrNotExtRollover"çä  )çä)
F1 5f0764a6 94cee45 0 0 0 0 2
CBG CostBasisAdjType10
Funktion
IF ('Policy LifeUSA MECInd' ; çä   /*Policy is a MEC*///Trueçä MIN('Policy FinancialActivity FinActivityNetAmt'(0);'TWH TaxableGainUnadj') ; çä   //Taxable portion of distribution added to cost basis, distribution allocated to gain first then basisçä"Error:CostBasisAdjType10error"çä)
F1 616e8447 29f17e9 27be1108 6a33a47a 0 0 2
-- CalcRule Lookup --
Funktion

F1 27be1108 616e8447 0 0 0 0 2
CBG CostBasisAdjType
Funktion
'ACCS CalcRule GetCalcRule'("CalcRules CostBasisAdjType";'Policy ProductCode';TransEffDate;V_(Quote('Policy FinancialActivity FinActivityType'(0));Quote('Policy FinancialActivity FinActivityReasonCode'(0))))
F1 6a33a47a 29f17e9 6a5d5e4d 0 0 0 2
-- Miscellaneous --
Funktion

F1 6a5d5e4d 6a33a47a 0 6f472ab8 0 0 2
CBG UnkownCostBasis
Funktion
IF (NOT('Policy CostBasisKnown') || 'Policy CostBasis' ALIKE 'GEN Vector Blank' ; çä   //Trueçä1 ; çä  0çä)
F1 6f472ab8 6a33a47a 0 7b5a455b 0 0 2
CBG Exchange1035Ind(financialActivityIndex)
Funktion
IF (EXISTS(table("TABLE FinActTYpe");'Policy FinancialActivity FinActivityType'(financialActivityIndex);"*") ; çä   /*Transaction is a 1035 exchange*///Trueçä 1 ; çä   //Falseçä0çä)
F1 7b5a455b 6a33a47a 5a08eb32 4447fc79 0 0 2
CBG BypassAdjInd
Funktion
IF ('FinActType is Interest Credited on Death Claim'('Policy FinancialActivity FinActivityType'(0)) ; çä   //Trueçä1 ; çä   //FalseçäIF (IF ('ProductType is Annuity'('PI PolicyProduct PolicyProductTypeCode'('Policy ProductCode';'Policy EffDate')) ; çä    'CBG BypassTransInd' ; çä    NOT('Policy LifeUSA MECInd') && 'CBG BypassTransInd'çä  ) ; çä   /*Transaction is on non mec, transaction type does not affect basis, gain or taxable amount for specified transactions*///Trueçä 1 ; çä   //Falseçä0çä)çä)
F1 5a08eb32 7b5a455b 0 0 0 0 2
CBG BypassTransInd
Funktion
CASE('Policy FinancialActivity FinActivityType'(0);çä  2;3;254;301;306;307 : 1;çä   : 0)çä
F1 4447fc79 6a33a47a 0 0 0 0 2
CBG MECTaxPenaltyInd(yearIndex)
Funktion
IF ('ParticipantStatus is Disabled'('Policy LifeParticipant ParticipantStatus'('GEN Vector Blank';'Std BaseCov Index'('GEN Vector Blank');0)) || 'Std Attained Age'('Policy LifeParticipant IssueAge'('GEN Vector Blank';'Std BaseCov Index'('GEN Vector Blank');0);'Policy EffDate';TransEffDate) >= 60 ; çä   /*Owner is disabled or older than 60*///True - Return 0çä 0 ; çä   //FalseçäIF (('Policy LifeUSA MECInd' && 'Std Attained Age'('Policy LifeParticipant IssueAge'('GEN Vector Blank';'Std BaseCov Index'('GEN Vector Blank');0);'Policy EffDate';TransEffDate) < 60) || 'OrgForm is Corporation'('Party OrgForm') ; çä     /*Contract is MEC and owner's age is less than 59.5 or owner is a corporation*///True - Return 1çä 1 ; çä     //False - Return 0çä0çä  )çä)
A0 de0918 0 0 0 0 0 0

T0 de0974 0 0 0 0 0 0

I0 4a0dcd2 0 1195c55 0 0 0 0

I0 1195c55 4a0dcd2 0 0 0 0 0
ACCESS.pms
-
O0
E0
L0
B0
P1
4368e86d
F1
6eae809f
A0
T0
!22
5a0d3b49 3 -1
Description: Returns the Cost Basis after a supported transaction has been processed.çä çäModification Log:çä2/14/2012-wmA-J   - MC - U15-US333 - Initial Calculation/Rule.
5a0d3b49 4 -1
Description: Returns the Cost Basis Adjustment for supported transaction types.çä çäModification Log:çä 2/14/2012-wmA-J  - MC - U15-US333 - Initial Calculation/Rule.
72e769ed -2 -2
Description: Returns the cost basis on the contract before any supported transactions have been processed.çä çäModification Log:çäwmA-J - 02/18/2012 - JL - U15 - Use wrapper function, not input call directly.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial rule.
37ef05b9 -2 -2
Description: Returns the cost basis amount on funds rolled over into an insurance contract.çä çäModification Log:çäwmA-J - 3/15/2012 - MC - Replaced 'Policy CostBasisKnown' with check on whether the cost basis has a positive valueçäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Rule.
1cdf70c1 -2 -2
Description: Returns the Cost Basis on the contract after a supported transaction has taken place.çä çäModification Log:çäwmA-J - 2/14/2012 - MC - U15-US333 - Replaced '+' with '-' given that cost basis adjustments will always result in a reduction in the cost basis.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Rule.
94cee45 -2 -2
Description: Returns the Cost Basis Adjustment for different transaction types.çä çäModification Log:çä09/19/2012 wmaJ Release 2 Sprint 4 CMC renamed Withholding readabiltiy to remove FinancialActivity from name.çäwmA-J - 06/20/2012 - BP - Added minus sign ("-") to 'CBG CostBasisAdjType1' as these transactions result in an increase to the cost basis.çäwmA-J - 5/08/2012 - MC - U15-US333 - Support for premium reversal processing. added function to return 0 if cost basis unknown or no input passed.çäwmA-J - 4/24/2012 - MC - U15-US333 - Added minus sign ("-") to 'CBG CostBasisAdjType10' and 'CBG CostBasisAdjType5' as these transactions result in an increase to the cost basis.çäwmA-J - 4/4/2012 - MC - B27-3- Added functionality required to bypass cost basis adjustment if 1035 exchange occurs.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
3288a8f3 -2 -2
Description: Returns the cost basis 'adjustment' if the transaction is a premium payment.çä çäModification Log:çäwmA-J - 06/27/2012 - BP - Changed to FinActivityGrossAmtçäwmA-J - 5/22/2012 - MC - U15-US333 - Added 'adjustment' to the description.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
4c0e888a -2 -2
Description: Returns the cost basis adjustment if the transaction is a premium payment reversal.çä çäModification Log:çä çäwmA-J - 5/22/2012 - MC - U15-US333 - Added 'adjustment' to the description.çäwmA-J - 2/14/2012 - MC - U15-US333 - Use gross transaction amount.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
6750759c -2 -2
Description: Returns the cost basis adjustment if the transaction is a disbursement transaction. Spec B27-3 specifies the supported disbursements for this enhancement.çä çäModification Log:çä çäwmA-J - 5/22/2012 - MC - U15-US333 - Added to 'adjustment' to description, added NOT function.çäwmA-J - 2/14/2012 - MC - U15-US333 - Removed minus signçäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
69f6cadf -2 -2
Description: Returns the cost basis adjustment if the transaction is an excess interest credit paid in cash.çä çäModification Log:çä çäwmA-J - 5/22/2012 - MC - U15-US333 - Added 'adjustment' to the description, added NOT function.çäwmA-J - 2/14/2012 - MC - U15-US333 - Removed minus signçäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
770db32a -2 -2
Description: Returns the cost basis adjustment if the transaction is an excess interest credit used for premium reduction.çä çäModification Log:çä çäwmA-J - 4/24/2012 - MC - U15-US333 - Comment in code corrected.çäwmA-J - 2/14/2012 - MC - U15-US333 - Removed minus signçäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
33e36233 -2 -2
Description: Returns the cost basis adjustment if the transaction is an excess interest credit used to purchase paid up additions or interest on death claim.çä çäModification Log:çä çäwmA-J - 2/14/2012 - MC - U15-US333 - Added support for interest on death claims.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
e9ffb0e -2 -2
Description: Returns the cost basis adjustment if the transaction is an excess interest credit on MEC's.çä çäModification Log:çä çäwmA-J - 5/22/2012 - MC - U15-US333 - Added 'adjustment' to the description, removed '=1'.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
3cf4716d -2 -2
Description: Returns the cost basis adjustment if the cost basis was unknown at the time of a transaction or was previously entered in error.çä çäModification Log:çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
168c1349 -2 -2
Description: Returns the cost basis adjustment if the financial activity type is a rollover from an external source.çä çäModification Log:çäwmA-J - 07/06/2012 - BP - Added support for Roth Conversion PaymentsçäwmA-J - 3/15/2012 - MC - Replaced 'Policy CostBasisKnown' with check on whether the cost basis has a positive valueçäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
5f0764a6 -2 -2
Description: Returns the cost basis adjustment if the financial activity type is a loan on an MEC.çä çäModification Log:çä çäwmA-J - 5/22/2012 - MC - U15-US333 - Added 'adjustment' to the description, removed '=1'.çäwmA-J - 2/15/2012 - MC - U15-US333 - Initial Calculation/Rule.
27be1108 -2 -2
Description: Late referenced table lookup to determine which cost basis adjustment type to compute for a supported transaction.çä çäModification Log:çäwmA-J - 2/16/2012 - MC - U15-US333 - Added 'Quote' function in vector of parameters.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
6a5d5e4d -2 -2
Description: Returns True If the cost basis is unknown otherwise returns Falseçä çäModification Log:çäwmA-J - 05/09/2012 - MC - B27-3, U15 - Initial calculation/rule.
6f472ab8 -2 -2
Description: Returns True IF the financial activity type is a 1035 exchange.çä çä
7b5a455b -2 -2
Description: Returns True IF the transaction is on a non-MEC contract and the financial activity type is such that there is no effect on taxable gain, amount or cost basis.çä çäModification Log:çä06/27/2012 - wmA-J - BP - Allow for Bypass when dealing with annuities without using Policy LifeUSA MECIndçä5/9/2012 - wmA-J - MC - U15-US333 - Interest credited on death claims has no effect on the cost basis or gain regardless of MEC status.çä2/14/2012 - wmA-J - MC - U15-US333 - Initial Calculation/Rule.
5a08eb32 -2 -2
Description: Returns True IF the transaction may have no effect on the cost basis, gain or taxable amount if the contract is a non-MEC.çä çä2 = Loan paymentçä3 = Loançä254 = Loan Interest paymentçä301 = Automatic premium loançä306 = Loan Interest capitalization in arrearsçä307 = Loan Interest capitalization in advanceçä çä çäModification Log:çäwmA-J - 5/3/2012 - MC - B27-3 - Added support for interest on death claim transactions.çäwmA-J - 5/3/2012 - MC - B27-3 - Added support for 1035 exchanges.çäwmA-J - 2/14/2012 - MC - U15-US333 - Initial Calculation/Rule.
4447fc79 -2 -2
Description: Returns True IF a tax penalty as a result of the policies MEC status applies otherwise returns False.çä
;Offset=00000000
